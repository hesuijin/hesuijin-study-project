#### 线程安全      

##### 1：什么叫线程安全？

     * 如果有多个线程在同时运行，而这些线程可能会同时运行这段代码。
     * 程序每次运行结果和单线程运行的结果是一样 的，而且其他的变量的值也和预期的是一样的，就是线程安全的。

##### 2：线程安全的原理
    1.多线程操作单一对象的逻辑
      jvm中有且仅有一个某个对象 的 main memory对象，
      每一个线程也有自己的working memory
      
        1：一个线程对于一个变量variable进行操作的时候，
        2：需要在自己的working memory里创建这个变量variable 一个copy值
        3：操作完这个一个copy值  之后再写入main memory。 
        4：当多个线程操作同一个变量variable，就可能出现不可预知的结果。 
        
        银行卡转钱到钱包：重复点击转钱 
        线程1:    0元+10元 =10元
        线程2:    0元+10元 =10元
        最后：银行卡少20 自己钱包多了10块钱
        
    2.而用synchronized的关键是建立一个监控monitor，这个monitor可以是要修改的变量，也可以是其他自己认为合适的对象(方法)，然后通过给这个monitor加锁来实现线程安全，
    3.每个线程在获得这个锁之后，要执行完加载load到working memory 到 use && 指派assign 到 存储store 再到 main memory的过程。才会释放它得到的锁。这样就实现了所谓的线程安全。

##### 3：常见的线程安全的类？
    StringBuffer Vector Hashtable
     
##### 4：解决线程安全的方法？
    1.同步代码块 
    2.同步方法锁
    3.同步锁
    
    好处：解决了多线程的数据安全问题
    弊端：当线程很多时，因为每个线程都会去判断同步上的锁，这是很耗费资源的，无形中会降低程序的运行效率
 
#####  可阅读concurrencyLockThreadDemo包下代码
